From 9b18a502a9bd1fc159f9f8a596e3b0547390d9b1 Mon Sep 17 00:00:00 2001
From: Ondřej Nový <ondrej.novy@firma.seznam.cz>
Date: Sun, 17 Jul 2016 17:21:39 +0200
Subject: [PATCH] Use oslosphinx extension when building installation guide
Forwarded: https://review.openstack.org/#/c/343313/

Change-Id: I8db60bb0676d34ef0f9d5750c1a4a8fe82c6ad85
---

diff --git a/install-guide/source/conf.py b/install-guide/source/conf.py
index bcf546c..ed43e67 100644
--- a/install-guide/source/conf.py
+++ b/install-guide/source/conf.py
@@ -24,8 +24,6 @@
 # import sys
 
 
-import openstackdocstheme
-
 # If extensions (or modules to document with autodoc) are in another directory,
 # add these directories to sys.path here. If the directory is relative to the
 # documentation root, use os.path.abspath to make it absolute, like shown here.
@@ -40,7 +38,9 @@
 # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom
 # ones.
 # TODO(ajaeger): enable PDF building, for example add 'rst2pdf.pdfbuilder'
-# extensions =
+extensions = [
+    'oslosphinx',
+]
 
 # Add any paths that contain templates here, relative to this directory.
 # templates_path = ['_templates']
@@ -123,7 +123,8 @@
 
 # The theme to use for HTML and HTML Help pages.  See the documentation for
 # a list of builtin themes.
-html_theme = 'openstackdocs'
+# html_theme_path = ["."]
+# html_theme = '_theme'
 
 # Theme options are theme-specific and customize the look and feel of a theme
 # further.  For a list of options available for each theme, see the
@@ -131,7 +132,7 @@
 # html_theme_options = {}
 
 # Add any paths that contain custom themes here, relative to this directory.
-html_theme_path = [openstackdocstheme.get_html_theme_path()]
+# html_theme_path = []
 
 # The name for this set of Sphinx documents.  If None, it defaults to
 # "<project> v<release> documentation".
@@ -182,7 +183,7 @@
 # html_domain_indices = True
 
 # If false, no index is generated.
-html_use_index = False
+# html_use_index = True
 
 # If true, the index is split into individual pages for each letter.
 # html_split_index = False
diff --git a/test-requirements.txt b/test-requirements.txt
index 933bc68..6f23797 100644
--- a/test-requirements.txt
+++ b/test-requirements.txt
@@ -8,7 +8,6 @@
 nose
 nosexcover
 nosehtmloutput
-openstackdocstheme>=1.0.3 # Apache-2.0
 oslosphinx
 sphinx>=1.1.2,!=1.2.0,!=1.3b1,<1.3  # BSD
 os-api-ref>=0.1.0 # Apache-2.0
